# 자바스크립트 개발 환경과 실행방법

## 자바스크립트 실행 환경

모든 브라우저는 자바스크립트를 해석하고 실행할 수 있는 자바스크립트 엔진을 내장하고 있다. 브라우저뿐만 아니라 Node.js도 자바스크립트 엔진을 내장하고 있다. 따라서 자바스크립트는 브라우저 환경 또는 Node.js 환경에서 실행할 수 있다. 기본적으로 브라우저에서 동작하는 코드는 Node.js 환경에서도 동일하게 동작한다.

주의해야 할 것은 브라우저와 Node.js는 용도가 다르다는 것이다. 

> **브라우저** : HTML, CSS, JS를 실행하여 웹 페이지를 브라우저 화면에 렌더링하는 것이 주된 목적
>
> **Node.js** : 브라우저 외부에서 자바스크립트 개발 환경을 제공하는 것이 주된 목적이다.

브라우저와 Node.js 모두 자바스크립트의의 코어인 ECMAScript를 실행할 수 있지만 브라우저와 Node.js에서 ECMAScript 이외에 추가적으로 제공하는 기능은 호환되지 않는다.

> ex) 브라우저는 브라우저 파싱된 HTML요소를 선택하거나 조작하는 기능들의 집합인 DOM API를 기본적으로 제공한다.
> 하지만 브라우저 외부에서 자바스크립트 개발 환경을 제공하는 것이 주 목적인 Node.js는 DOM API를 제공하지 않는다.
> (브라우저 외부 환경에서는 HTML 요소를 파싱하여 객체화한 DOM(Document Object Model)을 직접 다룰 필요가 없기 때문이다.)

반대로 Node.js에서는 파일을 create/read/update/delete할 수 있는 File 시스템을 기본 제공하지만 브라우저는 이를 지원하지 않는다. (Web API인 [FileReader 객체](https://blog.teamtreehouse.com/reading-files-using-the-html5-filereader-api)를 사용해 사용자가 지정한 파일을 읽어 들이는 것은 가능하다.)

웹 애플리케이션의 자바스크립트는 사용자 컴퓨터의 브라우저에서 동작한다. 만약 브라우저를 통해 다운로드되어 실행되는 자바스크립트가 사용자 컴퓨터의 로컬 파일을 삭제하거나 수정하고 생성할 수 있다면 이는 사용자 컴퓨터가 악성 코드에 그대로 노출된 것과 마찬가지다. 따라서 보안 상 이유로 브라우저 환경의 자바스크립트는 File 시스템을 제공하지 않는다.

이처럼 브라우저는 ECMAScript와 DOM, BOM, Canvas, XMLHttpRequest, Fetch, requestAnimationFrame, SVG, Web Storage, Web Component, Web worker와 같은 **[클라이언트 사이드 Web API](https://developer.mozilla.org/ko/docs/Web/API)**를 지원한다. Node.js는 클라이언트 사이드 Web API를 지원하지 않고 ECMAScript와 [Node.js 고유의 Host API](https://nodejs.org/dist/latest/docs/api/)를 지원한다.



## 웹 브라우저

다양한 웹 브라우저가 있지만 구글 크롬(Chrome) 브라우저를 사용하도록 하자. 크롬은 ECMAScript 사양을 준수하는 것은 물론이고 점유율도 가장 높다. 2020년 4월 현재, 구글 크롬 브라우저의 점유율은 64.34%로 2위인 사파리(20.18%)를 크게 앞서고 있다.

개발자 도구는 웹 개발에 유용한 다양한 기능을 제공한다. 자주 사용하는 개발자 도구의 기능은 아래와 같다.

| 패널        | 설명                                                         |
| :---------- | :----------------------------------------------------------- |
| Elements    | 로딩된 웹 페이지의 DOM과 CSS를 편집하여 렌더링된 뷰를 확인해 볼 수 있다. 단, 편집한 내용이 저장되지는 않는다. 웹 페이지가 의도된 대로 렌더링되지 않았다면 이 패널을 확인하여 유용한 힌트를 얻을 수 있다. |
| Console     | 로딩된 웹 페이지의 에러를 확인하거나 자바스크립트 소스코드에 포함시킨 console.log 메소드의 실행 결과를 확인해 볼 수 있다. |
| Sources     | 로딩된 웹 페이지의 자바스크립트 코드를 디버깅할 수 있다.     |
| Network     | 로딩된 웹 페이지에 관련한 네트워크 요청(request) 정보와 퍼포먼스를 확인할 수 있다. |
| Application | 웹 스토리지, 세션, 쿠키를 확인하고 관리할 수 있다.           |



## Node.js

클라이언트 사이드, 즉 웹 브라우저에서 동작하는 간단한 웹 애플리케이션은 브라우저만으로도 개발을 할 수 있다. 하지만 프로젝트의 규모가 커짐에 따라 React, Angular, jQuery와 같은 프레임워크 또는 라이브러리를 도입하거나 Babel, Webpack, ESLint 등 여러 가지 도구를 사용해야 할 필요가 있다. 이때 Node.js와 npm이 필요하다.